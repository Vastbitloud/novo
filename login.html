<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login - GreenFarm</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js"></script>
</head>
<body style="min-height:100vh;background:linear-gradient(180deg,#7cb342,#558b2f);display:flex;align-items:center;justify-content:center;padding:2rem">
  <div style="width:100%;max-width:420px">
    <div class="card-farm mb-4">
      <div style="text-align:center;margin-bottom:.6rem"><img src="img/logo.svg" style="width:64px;height:64px" alt="logo"></div>
      <h3 style="text-align:center;color:var(--amber-900);margin-bottom:.6rem">Entrar</h3>
      <div style="display:grid;gap:.6rem">
        <input id="login-phone" placeholder="Telefone (ex: 5511999999999)" />
        <input id="login-pass" type="password" placeholder="Senha" />
        <button id="btnLogin" class="btn-farm">Entrar</button>
        <div style="text-align:center;margin-top:.4rem"><a href="register.html" class="small-muted">Criar conta</a></div>
      </div>
    </div>
    <div class="center"><a href="index.html" class="small-muted">Voltar</a></div>
  </div>

  <script src="script.js"></script>
  <script>
    document.getElementById('btnLogin').addEventListener('click', ()=>{
      const phone = document.getElementById('login-phone').value.trim();
      const pass = document.getElementById('login-pass').value.trim();
      const r = loginUser({phone, pass});
      if(r.ok){ notify('success','Login efetuado'); location.href='index.html'; }
      else notify('error', r.msg);
    });
  </script>
</body>
</html>
